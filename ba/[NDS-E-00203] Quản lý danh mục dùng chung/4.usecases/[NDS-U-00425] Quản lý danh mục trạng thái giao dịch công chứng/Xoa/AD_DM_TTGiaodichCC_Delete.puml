@startuml DM_TTGiaodichCC_Delete
!pragma layout smetana
title Activity Diagram: Xóa danh mục trạng thái giao dịch công chứng

start
:Người dùng truy cập thành công màn hình danh sách danh mục trạng thái giao dịch\n(**DM_TTGiaodichCC_List**);
if (Có quyền xóa?) then (có)
:Hệ thống hiển thị nút xóa trên mỗi dòng thông tin;
:Người dùng bấm nút xóa;
:Hệ thống hiển thị popup xác nhận xóa với nội dung:\n"Bạn có chắc chắn muốn xóa danh mục trạng thái giao dịch này không?";
if (Người dùng xác nhận?) then (Có)
  :Người dùng bấm nút "Xác nhận";
  if (Kiểm tra ràng buộc dữ liệu) then (Có ràng buộc)
    :Hệ thống đóng popup;
    :Hiển thị cảnh báo lỗi "Không thể xóa danh mục trạng thái giao dịch. Danh mục đang được sử dụng";
  else (Không có ràng buộc)
    :Xóa dữ liệu danh mục trạng thái giao dịch \n(**DM_TTGiaodichCC**);
    :Hệ thống ghi nhận thông tin xóa danh mục trạng thái giao dịch vào nhật ký hệ thống;
    :Đóng popup xác nhận và cập nhật lại danh sách Danh mục trạng thái giao dịch;
    :Hiển thị thông báo "Xóa thành công danh mục trạng thái giao dịch";
  endif
else (Không)
  :Người dùng hủy thao tác bằng cách bấm vào nút "Hủy" hoặc biểu tượng đóng popup;
  :Hệ thống đóng popup;
endif
else (Không)
:Hệ thống không hiển thị nút xóa danh mục trạng thái giao dịch;
endif

stop
@enduml
