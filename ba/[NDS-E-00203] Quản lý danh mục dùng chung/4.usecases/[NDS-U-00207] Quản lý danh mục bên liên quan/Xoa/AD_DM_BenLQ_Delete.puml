@startuml DM_BenLQ_Delete
!pragma layout smetana
title Activity Diagram: Xóa danh mục bên liên quan

start
:Người dùng truy cập thành công màn hình danh sách danh mục bên liên quan\n(**DM_BenLQ_List**);
if (Có quyền xóa?) then (có)
:Hệ thống hiển thị nút xóa trên mỗi dòng thông tin;
:Người dùng bấm nút xóa;
:Hệ thống hiển thị popup xác nhận xóa với nội dung:\n"Bạn có chắc chắn muốn xóa danh mục bên liên quan này không?";
if (Người dùng xác nhận?) then (Có)
  :Người dùng bấm nút "Xác nhận";
  if (Kiểm tra ràng buộc dữ liệu) then (Có ràng buộc)
    :Hệ thống đóng popup;
    :Hiển thị cảnh báo lỗi "Không thể xóa danh mục bên liên quan. Danh mục đang được sử dụng";
  else (Không có ràng buộc)
    :Xóa dữ liệu danh mục bên liên quan \n(**DM_BenLQ**);
    :Hệ thống ghi nhận thông tin xóa danh mục bên liên quan vào nhật ký hệ thống;
    :Đóng popup xác nhận và cập nhật lại danh sách Danh mục bên liên quan;
    :Hiển thị thông báo "Xóa thành công danh mục bên liên quan";
  endif
else (Không)
  :Người dùng hủy thao tác bằng cách bấm vào nút "Hủy" hoặc biểu tượng đóng popup;
  :Hệ thống đóng popup;
endif
else (Không)
:Hệ thống không hiển thị nút xóa danh mục bên liên quan;
endif

stop
@enduml
